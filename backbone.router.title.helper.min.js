(function(t,e){var i=t.Router.prototype.route;e.extend(t.Router.prototype,{route:function(t,e,o){var s=function(){if(this.titles){var t=this.titles[e];t?"function"==typeof t?document.title=t.apply(this,arguments):"object"==typeof t&&t.promise?(_this=this,$.when(t).then(function(t){document.title=t,delete _this.titles[e],_this.titles[e]=new jQuery.Deferred},function(){throw"Your deferred job failed. No title to set."})):document.title=this[t]?this[t].apply(this,arguments):t:this.titles.default&&(document.title=this.titles.default)}o||(o=this[e]),o.apply(this,arguments)};return i.call(this,t,e,s)}})})(Backbone,_);